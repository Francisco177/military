<%- include('partials/header') %>

<h2><i class="fas fa-user-shield"></i> Admin Dashboard</h2>

<!-- Admin Action Buttons -->
<div style="margin-bottom: 20px;">
  <a href="/mos/admin/add" class="btn-add-soldier">
    <i class="fas fa-plus-circle"></i> Add New Soldier
  </a>
  <a href="/mos" class="btn-view-soldiers">
    <i class="fas fa-users"></i> View All Soldiers
  </a>
</div>

<section>
  <h3><i class="fas fa-envelope-open-text"></i> Contact Messages</h3>
  <table border="1" cellpadding="10" cellspacing="0">
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Message</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <% contacts.forEach(contact => { %>
        <tr>
          <td><%= contact.name %></td>
          <td><a href="mailto:<%= contact.email %>"><%= contact.email %></a></td>
          <td><%= contact.message %></td>
          <td><%= contact.submittedAt ? contact.submittedAt.toDateString() : 'N/A' %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</section>

<section style="margin-top: 50px;">
  <h3><i class="fas fa-plane-departure"></i> Leave Requests</h3>
  <table border="1" cellpadding="10" cellspacing="0">
    <thead>
      <tr>
        <th>Full Name</th>
        <th>Rank</th>
        <th>Unit</th>
        <th>Type</th>
        <th>Start</th>
        <th>End</th>
        <th>Reason</th>
        <th>Officer</th>
        <th>Service #</th>
        <th>Relationship</th>
        <th>Address</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <% leaves.forEach(leave => { %>
        <tr>
          <td><%= leave.fullName %></td>
          <td><%= leave.rank %></td>
          <td><%= leave.unit %></td>
          <td><%= leave.leaveType %></td>
          <td><%= leave.startDate.toDateString() %></td>
          <td><%= leave.endDate.toDateString() %></td>
          <td><%= leave.reason %></td>
          <td><%= leave.officerName %></td>
          <td><%= leave.serviceNumber %></td>
          <td><%= leave.relationship %></td>
          <td><%= leave.address %></td>
          <td><%= leave.submittedAt.toDateString() %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</section>

<%- include('partials/footer') %>
